<!-- Live2D æ¡Œå® é…ç½® - ç´«é‡‘è‰²å¥¢åä¸»é¢˜ -->
<!-- å°†æ­¤ä»£ç æ·»åŠ åˆ°åšå®¢çš„ <head> æˆ– <body> åº•éƒ¨ -->

<!-- æ¡Œå® å®¹å™¨ -->
<div id="live2d-widget" style="position: fixed; bottom: 20px; right: 20px; z-index: 9999;"></div>

<!-- Live2D çœ‹æ¿å¨˜è„šæœ¬ -->
<script src="https://cdn.jsdelivr.net/npm/live2d-widget@3.1.4/lib/live2d.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/live2d-widget@3.1.4/lib/L2Dwidget.min.js"></script>

<script>
L2Dwidget.init({
  // æ¨¡å‹é€‰æ‹© - å¥¢åç´«é‡‘è‰²ç³»
  "model": {
    // å¯é€‰æ¨¡å‹:
    // 1. "https://unpkg.com/live2d-widget-model-shizuku@1.0.5/assets/shizuku.model.json" - èŒç³»
    // 2. "https://unpkg.com/live2d-widget-model-z16@1.0.5/assets/z16.model.json" - ä¼˜é›…
    // 3. "https://unpkg.com/live2d-widget-model-koharu@1.0.5/assets/koharu.model.json" - å¯çˆ±
    // 4. "https://unpkg.com/live2d-widget-model-haruto@1.0.5/assets/haruto.model.json" - å¸…æ°”
    
    // æ¨èä½¿ç”¨ä¼˜é›…çš„ z16 æˆ– haruto åŒ¹é…ç´«é‡‘è‰²ä¸»é¢˜
    "jsonPath": "https://unpkg.com/live2d-widget-model-z16@1.0.5/assets/z16.model.json",
    "scale": 1.2
  },
  
  // æ˜¾ç¤ºè®¾ç½®
  "display": {
    "position": "right",        // ä½ç½®ï¼šright/left
    "width": 200,               // å®½åº¦
    "height": 400,              // é«˜åº¦
    "hOffset": 20,              // æ°´å¹³åç§»
    "vOffset": -20              // å‚ç›´åç§»
  },
  
  // ç§»åŠ¨ç«¯è®¾ç½®
  "mobile": {
    "show": true,               // ç§»åŠ¨ç«¯æ˜¯å¦æ˜¾ç¤º
    "scale": 0.6,               // ç§»åŠ¨ç«¯ç¼©æ”¾
    "motion": true              // ç§»åŠ¨ç«¯æ˜¯å¦è·Ÿéšç§»åŠ¨
  },
  
  // äº¤äº’è®¾ç½®
  "react": {
    "opacityDefault": 0.9,      // é»˜è®¤é€æ˜åº¦
    "opacityOnHover": 0.5       // æ‚¬åœé€æ˜åº¦
  },
  
  // å¯¹è¯æ¡†è®¾ç½® - ç´«é‡‘è‰²é£æ ¼
  "dialog": {
    "enable": true,
    "hitokoto": {
      "enable": true,           // å¯ç”¨ä¸€è¨€API
      "api": "https://v1.hitokoto.cn/"  // ä¸€è¨€APIåœ°å€
    },
    "style": {
      "color": "#6B46C1",       // æ–‡å­—é¢œè‰² - ç´«è‰²
      "background": "rgba(255, 255, 255, 0.9)",  // èƒŒæ™¯ - ç»ç’ƒç™½
      "border": "2px solid #D4AF37",  // è¾¹æ¡† - é‡‘è‰²
      "borderRadius": "20px",   // åœ†è§’
      "padding": "12px 16px",
      "fontSize": "14px",
      "boxShadow": "0 8px 32px rgba(107, 70, 193, 0.37)"  // ç´«è‰²é˜´å½±
    }
  },
  
  // åŠ è½½æç¤º
  "name": {
    "canvas": "live2d-widget",
    "div": "live2d-widget"
  }
});

// ç´«é‡‘è‰²ä¸»é¢˜é€‚é… - è‡ªå®šä¹‰æ¬¢è¿è¯­
const welcomeMessages = [
  "æ¬¢è¿æ¥åˆ°æ€ä¸ºå¼å‘€~ ğŸ‰",
  "ç´«é‡‘è‰²çš„ä¸–ç•Œï¼Œç­‰ä½ æ¢ç´¢ âœ¨",
  "ä»Šå¤©çš„æ€è€ƒæ˜¯ä»€ä¹ˆï¼Ÿ ğŸ¤”",
  "ç‚¹å‡»æˆ‘ï¼Œæˆ‘ä¼šå’Œä½ äº’åŠ¨å“¦~ ğŸ’œ",
  "é‡‘è‰²æ¢¦æƒ³ï¼Œç´«è‰²æ€è€ƒ ğŸ’­",
  "æ„¿ä½ çš„æ¯ä¸€å¤©éƒ½å¦‚ç´«é‡‘èˆ¬é—ªè€€ âœ¨"
];

// é¡µé¢åŠ è½½åæ˜¾ç¤ºæ¬¢è¿è¯­
window.addEventListener('load', function() {
  setTimeout(function() {
    const randomMsg = welcomeMessages[Math.floor(Math.random() * welcomeMessages.length)];
    showCustomMessage(randomMsg);
  }, 2000);
});

// è‡ªå®šä¹‰æ¶ˆæ¯æ˜¾ç¤ºå‡½æ•°
function showCustomMessage(message) {
  const event = new CustomEvent('live2d-widget:dialog', {
    detail: {
      message: message,
      duration: 5000  // æ˜¾ç¤º5ç§’
    }
  });
  window.dispatchEvent(event);
}

// ç‚¹å‡»äº‹ä»¶ - æ˜¾ç¤ºéšæœºæ€è€ƒè¯­å½•
const thoughts = [
  "æ€è€ƒæ˜¯çµé­‚çš„è‡ªæˆ‘å¯¹è¯ ğŸ’­",
  "æ¯ä¸€ä¸ªæƒ³æ³•éƒ½å€¼å¾—è¢«è®°å½• ğŸ“",
  "ç´«è‰²ä»£è¡¨ç¥ç§˜ï¼Œé‡‘è‰²ä»£è¡¨å…‰èŠ’ âœ¨",
  "ä¿æŒå¥½å¥‡ï¼Œä¿æŒæ€è€ƒ ğŸ¤”",
  "ä»Šå¤©çš„æ”¶è·æ˜¯ä»€ä¹ˆï¼Ÿ ğŸ’",
  "æ€ç»´çš„è¾¹ç•Œï¼Œå°±æ˜¯ä¸–ç•Œçš„è¾¹ç•Œ ğŸŒŒ",
  "å†™ä¸‹æ¥ï¼Œè®©æƒ³æ³•æ°¸æ’ ğŸ–‹ï¸",
  "ç´«é‡‘é…è‰²ï¼Œå¥¢åè€Œä¸å¤±å†…æ¶µ ğŸ‘‘"
];

document.querySelector('#live2d-widget').addEventListener('click', function() {
  const randomThought = thoughts[Math.floor(Math.random() * thoughts.length)];
  showCustomMessage(randomThought);
});
</script>

<style>
/* æ¡Œå® å®¹å™¨æ ·å¼ - ç´«é‡‘è‰²è¾¹æ¡† */
#live2d-widget canvas {
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(107, 70, 193, 0.37) !important;
  border: 2px solid rgba(212, 175, 55, 0.3) !important;
  background: rgba(255, 255, 255, 0.1) !important;
  backdrop-filter: blur(10px) !important;
}

/* å¯¹è¯æ¡†æ ·å¼å¢å¼º */
.live2d-widget-dialog {
  font-family: -apple-system, BlinkMacSystemFont, 'PingFang SC', 'Microsoft YaHei', sans-serif !important;
  font-weight: 500 !important;
}

/* ç§»åŠ¨ç«¯é€‚é… */
@media (max-width: 768px) {
  #live2d-widget {
    transform: scale(0.7);
    transform-origin: bottom right;
  }
}
</style>
